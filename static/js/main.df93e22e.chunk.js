(this.webpackJsonpNOGIC=this.webpackJsonpNOGIC||[]).push([[0],{18:function(e,t,c){},21:function(e,t,c){},22:function(e,t,c){},23:function(e,t,c){},24:function(e,t,c){},25:function(e,t,c){},26:function(e,t,c){},27:function(e,t,c){},28:function(e,t,c){},29:function(e,t,c){"use strict";c.r(t);var n=c(1),r=c.n(n),s=c(12),a=c.n(s),i=(c(18),c(11)),o=c.n(i),l=c(13),d=c(4),u=c(2),j=c(0),O=function(e){return Object(j.jsx)("svg",{onClick:e.clickHandler,viewBox:"0 0 24 24",children:Object(j.jsx)("path",{fill:"currentColor",d:"M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19M8,9H16V19H8V9M15.5,4L14.5,3H9.5L8.5,4H5V6H19V4H15.5Z"})})},b=function(e){return Object(j.jsx)("svg",{onClick:e.clickHandler,viewBox:"0 0 24 24",children:Object(j.jsx)("path",{fill:"currentColor",d:"M17.5,12A1.5,1.5 0 0,1 16,10.5A1.5,1.5 0 0,1 17.5,9A1.5,1.5 0 0,1 19,10.5A1.5,1.5 0 0,1 17.5,12M14.5,8A1.5,1.5 0 0,1 13,6.5A1.5,1.5 0 0,1 14.5,5A1.5,1.5 0 0,1 16,6.5A1.5,1.5 0 0,1 14.5,8M9.5,8A1.5,1.5 0 0,1 8,6.5A1.5,1.5 0 0,1 9.5,5A1.5,1.5 0 0,1 11,6.5A1.5,1.5 0 0,1 9.5,8M6.5,12A1.5,1.5 0 0,1 5,10.5A1.5,1.5 0 0,1 6.5,9A1.5,1.5 0 0,1 8,10.5A1.5,1.5 0 0,1 6.5,12M12,3A9,9 0 0,0 3,12A9,9 0 0,0 12,21A1.5,1.5 0 0,0 13.5,19.5C13.5,19.11 13.35,18.76 13.11,18.5C12.88,18.23 12.73,17.88 12.73,17.5A1.5,1.5 0 0,1 14.23,16H16A5,5 0 0,0 21,11C21,6.58 16.97,3 12,3Z"})})},f=function(e){return Object(j.jsx)("svg",{onClick:e.clickHandler,viewBox:"0 0 24 24",children:Object(j.jsx)("path",{fill:"currentColor",d:"M13.46,12L19,17.54V19H17.54L12,13.46L6.46,19H5V17.54L10.54,12L5,6.46V5H6.46L12,10.54L17.54,5H19V6.46L13.46,12Z"})})},h=(c(21),function(){var e=Object(n.useState)(""),t=Object(d.a)(e,2),c=t[0],r=t[1],s=Object(u.f)();Object(n.useEffect)((function(){s(""===c?"/":"/search/".concat(c))}),[c,s]);var a=function(){var e=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r((function(){return t.target.value.toLowerCase()}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return console.log("NAVBAR RENDERED"),Object(j.jsx)("nav",{className:"nav",children:Object(j.jsxs)("div",{className:"search",children:[Object(j.jsx)("input",{type:"text",value:c,placeholder:"search",onChange:a}),c?Object(j.jsx)("span",{onClick:function(){return r("")},children:Object(j.jsx)(f,{})}):""]})})}),m=c(3),v=(c(22),{default:"#faeaea",yellow:"#fff475",orange:"#fbbc04",red:"#f28b82",d:"#d7aefb",f:"#fdcfe8",u:"#e6c9a8",c:"#e8eaed",green:"#ccff90",cyan:"#a7ffeb",j:"#cbf0f8",t:"#aecbfa"}),x=(c(23),function(e){var t=Object(n.useState)(e.activeColor),c=Object(d.a)(t,2),r=c[0],s=c[1],a=Object(n.useRef)(null);Object(n.useEffect)((function(){var e=a.current.getBoundingClientRect();e.left<0&&(a.current.style.left="-1rem",a.current.style.transform="none"),e.right>window.innerWidth&&(a.current.style.left="unset",a.current.style.right="-1rem",a.current.style.transform="none")}));return Object(j.jsxs)("div",{className:"colorbtn",children:[Object(j.jsx)(b,{}),Object(j.jsx)("div",{className:"menu",onClick:function(e){return e.stopPropagation()},ref:a,children:Object.keys(v).map((function(t){return Object(j.jsx)("button",{onClick:function(){return function(t){s(t),e.callback(t)}(t)},className:"color",title:t,style:{background:v[t]},children:r===t?Object(j.jsx)("svg",{viewBox:"0 0 24 24",children:Object(j.jsx)("path",{fill:"currentColor",d:"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"})}):""},t)}))})]})}),g=r.a.memo((function(e){var t=e.dispatch,c=Object(n.useRef)(null),r=Object(n.useRef)(null),s=localStorage.getItem("createNoteColor")?localStorage.getItem("createNoteColor"):"default",a=Object(n.useState)({title:"",desc:"",color:s}),i=Object(d.a)(a,2),o=i[0],l=i[1],u=Object(n.useState)(!1),O=Object(d.a)(u,2),b=O[0],f=O[1],h=function(e){"title"===e.target.name&&l(Object(m.a)(Object(m.a)({},o),{},{title:e.target.value})),"desc"===e.target.name&&(l(Object(m.a)(Object(m.a)({},o),{},{desc:e.target.value})),e.target.style.height="auto",e.target.style.height="".concat(e.target.scrollHeight,"px")),console.log(o)},g=function(){console.log(o);var e=(new Date).getTime().toString();o.title.trim()||o.desc.trim()?o.title.trim()&&!o.desc.trim()?(console.log("have title but no desc"),t({type:"ADD_NOTE",id:e,title:o.title,desc:o.title,color:o.color})):!o.title.trim()&&o.desc.trim()?(console.log("have title but no desc"),t({type:"ADD_NOTE",id:e,title:o.desc.split(" ").slice(0,4).join(" "),desc:o.desc,color:o.color})):t({type:"ADD_NOTE",id:e,title:o.title,desc:o.desc,color:o.color}):f(!1),f(!1),l((function(e){return{title:"",desc:"",color:e.color}}))};return console.count("TAKENOTE RENDERED"),Object(j.jsxs)("div",{className:"takenote"+(b?" active":""),ref:c,style:{background:v[o.color]},children:[Object(j.jsxs)("div",{className:"takenote-inputs",children:[Object(j.jsx)("div",{className:"title",children:Object(j.jsx)("input",{className:"title-input",value:o.title,name:"title",type:"text",placeholder:"Take Note..",onChange:h,onClick:function(e){b||(e.target.placeholder="Title"),f(!0);document.addEventListener("click",(function t(c){c.path.includes(document.querySelector(".takenote.active"))?f(!0):(g(),f(!1),e.target.placeholder="Take Note..",document.removeEventListener("click",t))}))}})}),Object(j.jsx)("div",{className:"desc",children:Object(j.jsx)("textarea",{ref:r,className:"desc-input",value:o.desc,name:"desc",placeholder:"Take Note",onChange:h})})]}),Object(j.jsxs)("div",{className:"btns",children:[Object(j.jsx)(x,{callback:function(e){l(Object(m.a)(Object(m.a)({},o),{},{color:e})),localStorage.setItem("createNoteColor",e)},activeColor:o.color}),Object(j.jsx)("button",{className:"savebtn",onClick:g,children:"Done"})]})]})})),p=(c(24),Object(n.createContext)({})),N=(c(25),function(e){var t=e.title,c=e.handler1,n=e.handler2,r=e.btn1,s=e.btn2;return Object(j.jsxs)("div",{className:"alert",children:[Object(j.jsx)("p",{children:t}),Object(j.jsxs)("div",{className:"actions",children:[Object(j.jsx)("p",{onClick:c,children:r}),Object(j.jsx)("p",{onClick:n,children:s})]})]})}),E=r.a.forwardRef((function(e,t){var c=e.note,r=e.abc,s=Object(n.useContext)(p).dispatch,a=Object(n.useState)({is:!1,timeoutId:null}),i=Object(d.a)(a,2),o=i[0],l=i[1],u=Object(n.useState)(!1),b=Object(d.a)(u,2),f=b[0],h=b[1],m=Object(n.useRef)(null),g=Object(n.useRef)(null),E=new Date(Number(c.dateMod?c.dateMod:c.id));Object(n.useEffect)((function(){if(o.is&&r(),f){var e=t.current,n=function(e){c.title===m.current.innerText&&c.desc===g.current.innerText||s({type:"UPDATE_NOTE",id:c.id,title:m.current.innerText,desc:g.current.innerText,dateMod:(new Date).getTime().toString()}),e.target.classList.remove("active"),h(!1)};return e.addEventListener("click",n),function(){e.removeEventListener("click",n)}}}));var C=function(){s({type:"REMOVE_NOTE",id:c.id})};return console.count("NOTE RENDERED"),Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("div",{className:"wrapper"+(f?" editing":"")+(o.is?" deleted":""),children:Object(j.jsxs)("div",{className:"note",onClick:function(){t.current.classList.add("active"),h(!0)},style:{background:v[c.color]},children:[Object(j.jsx)("div",{ref:m,contentEditable:f,className:"title",suppressContentEditableWarning:!0,children:c.title}),Object(j.jsx)("div",{ref:g,contentEditable:f,className:"description",suppressContentEditableWarning:!0,children:c.desc}),Object(j.jsx)("div",{className:"info",children:Object(j.jsxs)("p",{children:[" ",c.dateMod?"last edited":"created at"," ",E.toLocaleTimeString("en-us",{minute:"numeric",hour:"numeric"})," ",E.toLocaleDateString("en-us",{day:"numeric",month:"short",year:"numeric"})]})}),Object(j.jsxs)("div",{className:"btns",children:[Object(j.jsx)(O,{clickHandler:function(e,c){e.stopPropagation(),f&&(t.current.classList.remove("active"),h(!1));var n=setTimeout(C,4e3);l({is:!0,timeoutId:n})}}),Object(j.jsx)(x,{callback:function(e){s({type:"UPDATE_NOTE_COLOR",id:c.id,color:e})},activeColor:c.color})]})]})}),o.is?Object(j.jsx)(N,{title:"Deleted ".concat(c.title),handler1:function(){clearTimeout(o.timeoutId),l({is:!1,timeoutId:null})},handler2:function(){clearTimeout(o.timeoutId),C()},btn1:"UNDO",btn2:"OK"}):""]})})),C=(c(26),function(e){var t=Object(n.useRef)(null),c=Object(n.useContext)(p).state.notes,r=[],s=[],a=function(){var e=Array.from(document.querySelectorAll(".alert"));console.log(e);var t=0;e.length>1&&e.forEach((function(e){console.log(t),e.style.transform="translateY(-".concat(t,"px)"),t=t+e.offsetHeight+10}))};return e.search&&c.map((function(t){return t.title.toLowerCase().includes(e.query)?r.push(t):t.desc.toLowerCase().includes(e.query)&&s.push(t),null})),console.count("NOTELIST RENDERED"),Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("div",{className:"cover",ref:t}),Object(j.jsx)("section",{className:"notes",children:e.search?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("div",{className:"searchDivider",children:"Top Results"}),Object(j.jsx)("div",{className:"grid",children:r.length>0?r.map((function(e){return Object(j.jsx)(E,{note:e,ref:t,abc:a},e.id)})):"NO MATCHES FOUND"}),Object(j.jsx)("div",{className:"searchDivider",children:"Others"}),Object(j.jsx)("div",{className:"grid",children:s.length>0?s.map((function(e){return Object(j.jsx)(E,{note:e,ref:t,abc:a},e.id)})):"NO MATCHES FOUND"})]}):Object(j.jsx)("div",{className:"grid",children:c.map((function(e){return Object(j.jsx)(E,{note:e,ref:t,abc:a},e.id)}))})})]})}),y=(c(27),c(9)),A=function(e,t){switch(t.type){case"ADD_NOTE":var c=[{id:t.id,title:t.title,desc:t.desc,dateMod:!1,color:t.color}].concat(Object(y.a)(e.notes));return localStorage.setItem("notes",JSON.stringify(c)),Object(m.a)(Object(m.a)({},e),{},{notes:c});case"LOAD_NOTES":return Object(m.a)(Object(m.a)({},e),{},{notes:[].concat(Object(y.a)(e.notes),Object(y.a)(t.notes))});case"REMOVE_NOTE":var n=e.notes.filter((function(e){return e.id!==t.id}));return localStorage.setItem("notes",JSON.stringify(n)),Object(m.a)(Object(m.a)({},e),{},{notes:n});case"SET_EDITING":return Object(m.a)(Object(m.a)({},e),{},{isEditing:t.isEditing,editingId:t.editingId});case"UPDATE_NOTE_COLOR":var r=e.notes.map((function(e){return e.id===t.id?Object(m.a)(Object(m.a)({},e),{},{color:t.color}):e}));return localStorage.setItem("notes",JSON.stringify(r)),Object(m.a)(Object(m.a)({},e),{},{notes:r});case"UPDATE_NOTE":var s=e.notes.map((function(e){return e.id===t.id?Object(m.a)(Object(m.a)({},e),{},{title:t.title,desc:t.desc,dateMod:t.dateMod}):e}));return localStorage.setItem("notes",JSON.stringify(s)),Object(m.a)(Object(m.a)({},e),{},{notes:s});default:return e}},T={isEditing:!1,editingId:null,notes:[]},k=function(){var e=Object(n.useReducer)(A,T),t=Object(d.a)(e,2),c=t[0],r=t[1];return Object(n.useEffect)((function(){if(localStorage.getItem("notes")){var e=localStorage.getItem("notes");r({type:"LOAD_NOTES",notes:JSON.parse(e)})}}),[]),Object(j.jsxs)("main",{className:"center",children:[Object(j.jsx)(g,{dispatch:r}),Object(j.jsx)(p.Provider,{value:{state:c,dispatch:r},children:Object(j.jsx)(C,{})})]})},D=(c(28),function(e){var t=Object(u.g)();return Object(j.jsxs)("main",{className:"center",children:[Object(j.jsx)("h1",{children:t.query}),Object(j.jsx)(C,{search:!0,query:t.query})]})}),L=function(){return Object(j.jsxs)("div",{className:"App",children:[Object(j.jsx)(h,{}),Object(j.jsxs)(u.c,{children:[Object(j.jsx)(u.a,{path:"/",element:Object(j.jsx)(k,{})}),Object(j.jsx)(u.a,{path:"/search/:query",element:Object(j.jsx)(D,{})})]})]})},S=c(8);a.a.render(Object(j.jsx)(S.a,{children:Object(j.jsx)(L,{})}),document.getElementById("root"))}},[[29,1,2]]]);
//# sourceMappingURL=main.df93e22e.chunk.js.map